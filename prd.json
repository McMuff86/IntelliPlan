{
  "name": "Task Planning & Project Scheduling",
  "branchName": "feature/task-planning",
  "description": "Extend IntelliPlan with project-based task planning, dependent tasks, manual work slots, optional reminders, and cascading schedule shifts.",
  "userStories": [
    {
      "id": "US-TP-001",
      "title": "Database schema for projects and tasks",
      "description": "As a developer, I want tables for projects, tasks, dependencies, and work slots so tasks can be planned and linked over weeks or months.",
      "acceptanceCriteria": [
        "projects table with owner, calendar template (weekends, working hours)",
        "tasks table with status, duration, and planned range fields",
        "task_dependencies table with dependency type",
        "task_work_slots table for manual time blocks"
      ],
      "technicalNotes": "Store timestamps in UTC, return ISO 8601. Add CHECK constraints for status and dependency types.",
      "dependencies": [],
      "priority": 1,
      "passes": true
    },
    {
      "id": "US-TP-002",
      "title": "Project CRUD API",
      "description": "As a user, I want to create, read, update, and delete projects so I can group tasks.",
      "acceptanceCriteria": [
        "POST /api/projects",
        "GET /api/projects",
        "GET /api/projects/:id",
        "PUT /api/projects/:id",
        "DELETE /api/projects/:id"
      ],
      "technicalNotes": "",
      "dependencies": ["US-TP-001"],
      "priority": 2,
      "passes": true
    },
    {
      "id": "US-TP-003",
      "title": "Task CRUD API",
      "description": "As a user, I want to manage tasks within projects so I can plan work packages.",
      "acceptanceCriteria": [
        "POST /api/projects/:projectId/tasks",
        "GET /api/projects/:projectId/tasks",
        "GET /api/tasks/:id",
        "PUT /api/tasks/:id",
        "DELETE /api/tasks/:id"
      ],
      "technicalNotes": "",
      "dependencies": ["US-TP-001", "US-TP-002"],
      "priority": 3,
      "passes": true
    },
    {
      "id": "US-TP-004",
      "title": "Work slots (manual planning)",
      "description": "As a user, I want to define work slots for tasks so I can distribute work across days and weeks.",
      "acceptanceCriteria": [
        "POST /api/tasks/:id/work-slots",
        "GET /api/tasks/:id/work-slots",
        "DELETE /api/tasks/:id/work-slots/:slotId",
        "Validation: end time is after start time"
      ],
      "technicalNotes": "",
      "dependencies": ["US-TP-003"],
      "priority": 4,
      "passes": true
    },
    {
      "id": "US-TP-005",
      "title": "Manage task dependencies",
      "description": "As a user, I want to define task dependencies so I can control sequencing and blocking.",
      "acceptanceCriteria": [
        "Dependency types: start-start, finish-finish, finish-start",
        "POST /api/tasks/:id/dependencies",
        "GET /api/tasks/:id/dependencies",
        "DELETE /api/tasks/:id/dependencies/:dependencyId"
      ],
      "technicalNotes": "",
      "dependencies": ["US-TP-003"],
      "priority": 5,
      "passes": true
    },
    {
      "id": "US-TP-006",
      "title": "Blocked status and validation",
      "description": "As a user, I want to see blocking status so I do not start tasks with unmet dependencies.",
      "acceptanceCriteria": [
        "Task shows blocked when dependencies are not satisfied",
        "Start action is only possible when dependencies are fulfilled"
      ],
      "technicalNotes": "",
      "dependencies": ["US-TP-005"],
      "priority": 6,
      "passes": false
    },
    {
      "id": "US-TP-007",
      "title": "Shift and cascade scheduling",
      "description": "As a user, I want to shift tasks and auto-adjust dependent tasks so the plan stays consistent.",
      "acceptanceCriteria": [
        "Default: shifting only pulls dependent follow-up tasks",
        "Option to move the whole task block, not just follow-ups",
        "Cascading respects dependency types"
      ],
      "technicalNotes": "Phase 1 can be basic; Phase 2 should differentiate dependency types.",
      "dependencies": ["US-TP-004", "US-TP-005"],
      "priority": 7,
      "passes": false
    },
    {
      "id": "US-TP-008",
      "title": "UI: Project and task overview",
      "description": "As a user, I want to see projects and tasks in an overview so I can navigate quickly.",
      "acceptanceCriteria": [
        "Project list with task list per project",
        "Status, duration, and blocked state are visible",
        "Verify in browser using dev-browser skill"
      ],
      "technicalNotes": "",
      "dependencies": ["US-TP-002", "US-TP-003"],
      "priority": 8,
      "passes": true
    },
    {
      "id": "US-TP-009",
      "title": "UI: Task detail and work slots",
      "description": "As a user, I want a task detail view with slots so I can add and remove time blocks.",
      "acceptanceCriteria": [
        "Slot list with times",
        "Add and remove UI for slots",
        "Dependencies visible",
        "Verify in browser using dev-browser skill"
      ],
      "technicalNotes": "",
      "dependencies": ["US-TP-003", "US-TP-004", "US-TP-005"],
      "priority": 9,
      "passes": true
    },
    {
      "id": "US-TP-010",
      "title": "UI: Timeline/Gantt view",
      "description": "As a user, I want a timeline view so I can plan durations and dependencies visually.",
      "acceptanceCriteria": [
        "Gantt or timeline view per project",
        "Dependencies shown with lines or indicators",
        "Verify in browser using dev-browser skill"
      ],
      "technicalNotes": "",
      "dependencies": ["US-TP-008"],
      "priority": 10,
      "passes": false
    },
    {
      "id": "US-TP-011",
      "title": "Calendar reminders (optional)",
      "description": "As a user, I want optional reminders so tasks show up in the calendar.",
      "acceptanceCriteria": [
        "Toggle per work slot or task",
        "Reminder-only, no hard appointment binding",
        "Verify in browser using dev-browser skill"
      ],
      "technicalNotes": "",
      "dependencies": ["US-TP-004"],
      "priority": 11,
      "passes": false
    },
    {
      "id": "US-TP-012",
      "title": "Working time templates",
      "description": "As a user, I want working time templates so I can plan faster.",
      "acceptanceCriteria": [
        "Templates for Mon-Fri 8-17 with optional weekends",
        "Templates can be saved per project",
        "Verify in browser using dev-browser skill"
      ],
      "technicalNotes": "",
      "dependencies": ["US-TP-002"],
      "priority": 12,
      "passes": false
    }
  ]
}
